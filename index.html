i going to uplod you my script in two messeges. Please when younhave completed ,script. Fix it . The problem is Poetic verdict is all the time same,
after the script is fixed please renurn me bac clean.
<script>
// 🌌 Global declarations
let allQuizSets = {};
let quizData = {};
let themeKeys = [];
let totalQuestions = 0;
let currentThemeIndex = 0;
let currentQuestionIndex = 0;
let scores = {};
let results = {};
const selectedSigns = [];
const selectedSetKey = "idealPartnerSet";

// 💡 Motivational tips
  const tips = [
    "'Ponovno riješi kviz'- Jeste li znali da se kviz sastoji od pet kategorija, s po tri pitanja u svakoj? Svaki put kad ga riješite, pitanja se mijenjaju — otkrijte nove      nijanse svog astrološkog profila!",
    "Jeste li znali da na LFbuyer.com postoji interaktivna igra za zabavu — simulacija nogometne sezone? Simuliraj tko će biti prvak u nogometu",
    "Oglasite svoju tvrtku besplatno na LFbuyer.com — svaki korisnik kviza može vas otkriti klikom na 'Oglasi'.",
    "Jeste li znali da se pomoću 'home staginga' kuće i stanovi prodaju čak 75% brže i po 25% višoj cijeni? Više o ovoj učinkovitoj tehnici pripreme nekretnina za prodaju saznajte na blogu LFbuyer.com . ",
    "Klikom na 'Posjeti LFbuyer.com' možete besplatno oglasiti svoje proizvode, usluge ili poslovanje — i učiniti ih vidljivima svima koji riješavaju ovaj kviz.",
    "Jeste li znali da je  LFbuyer  skraćenica od  'Looking For a buyer' – tj. tražim kupca...",
    "Kliknite na 'Lajkaj nas na  Facebooku', zatim 'Prati', kako biste ostali u kontaktu s nama.",
    "Jeste li znali da pomoću opcije 'Proslijedi Kviz i Rezultat Putem WhatsAppa' možete poslati kviz i svoj rezultat kao poruku osobi koja vam je draga?" // ← final tip
  ];

// 🔁 Shuffle utility
function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
}

// 🎲 Initialization logic
function initializeQuiz() {
  quizData = allQuizSets[selectedSetKey];
  themeKeys = Object.keys(quizData);
  shuffleArray(themeKeys);

  themeKeys.forEach(subtheme => {
    const questionsArray = quizData[subtheme];
    if (!Array.isArray(questionsArray)) {
      console.warn(`Skipping non-array subtheme: ${subtheme}`, questionsArray);
      return;
    }
    shuffleArray(questionsArray);
    questionsArray.forEach(q => shuffleArray(q.answers));
  });

  totalQuestions = themeKeys.reduce((sum, subtheme) => {
    const questionsArray = quizData[subtheme];
    return Array.isArray(questionsArray) ? sum + questionsArray.length : sum;
  }, 0);

  currentThemeIndex = 0;
  currentQuestionIndex = 0;
  scores = {};
  selectedSigns.length = 0;

  document.getElementById("result").style.display = "none";
  document.getElementById("resultActions").style.display = "none";
  document.getElementById("themeTitle").style.display = "block";
  document.getElementById("question").style.display = "block";
  document.getElementById("answers").style.display = "block";
  document.getElementById("extraActions").style.display = "none";

  showQuestion();
}

// 🖼️ Render question
function showQuestion() {
  if (currentThemeIndex >= themeKeys.length) {
    showResult();
    return;
  }

  const theme = themeKeys[currentThemeIndex];
  const questions = quizData[theme];

  if (!Array.isArray(questions)) {
    console.warn(`Skipping non-array questions in theme: ${theme}`);
    currentThemeIndex++;
    currentQuestionIndex = 0;
    showQuestion();
    return;
  }

  if (currentQuestionIndex >= questions.length) {
    currentThemeIndex++;
    currentQuestionIndex = 0;
    showQuestion();
    return;
  }

  const questionObj = questions[currentQuestionIndex];

  let current = 0;
  for (let i = 0; i < currentThemeIndex; i++) {
    current += quizData[themeKeys[i]].length;
  }
  current += currentQuestionIndex + 1;

  const tipText = current === totalQuestions
    ? tips[tips.length - 1]
    : tips[Math.floor(Math.random() * (tips.length - 1))];

  document.getElementById("progressBox").innerText = `🔢 ${current}/${totalQuestions} — 💡 TIP: ${tipText}`;
  document.getElementById("themeTitle").innerText = `Tema: ${theme.toUpperCase()}`;
  document.getElementById("question").innerText = questionObj.question;

  const answersDiv = document.getElementById("answers");
  answersDiv.innerHTML = "";

  questionObj.answers.forEach(answer => {
    const btn = document.createElement("button");
    btn.innerText = answer.text;
    btn.onclick = () => {
      selectedSigns.push(answer.sign);
      scores[answer.sign] = (scores[answer.sign] || 0) + 1;
      currentQuestionIndex++;
      showQuestion();
    };
    answersDiv.appendChild(btn);
  });
}

// 🌌 Zodiac descriptions
const signDescriptions = {
  Ovan: {
    emoji: "🔥",
    description: "strastven, energičan i pun inicijative",
    traits: "odvažnosti, direktnosti i neovisnosti",
    connection: "motivira te da riskiraš i slijediš srce"
  },
  Bik: {
    emoji: "🌿",
    description: "stabilan, senzualan i pouzdan",
    traits: "nježnosti, lojalnosti i osjećaja za užitak",
    connection: "smiruje tvoju dušu i pruža sigurnost"
  },
  Blizanci: {
    emoji: "💬",
    description: "duhovit, znatiželjan i komunikativan",
    traits: "mentalne stimulacije, spontanosti i zabave",
    connection: "drži tvoj um budnim i srce razigranim"
  },
  Rak: {
    emoji: "🫶",
    description: "emotivan, brižan i intuitivan",
    traits: "topline, nježnosti i duboke povezanosti",
    connection: "stvara prostor gdje se osjećaš voljeno i sigurno"
  },
  Lav: {
    emoji: "🦁",
    description: "samopouzdan, karizmatičan i velikodušan",
    traits: "izražajnosti, strasti i kraljevske energije",
    connection: "čini da se osjećaš posebno i obožavano"
  },
  Djevica: {
    emoji: "🧠",
    description: "analitičan, pažljiv i pouzdan",
    traits: "preciznosti, brige i praktične podrške",
    connection: "donosi red u tvoje emocije i pomaže ti da rasteš"
  },
  Vaga: {
    emoji: "⚖️",
    description: "šarmantan, diplomatski i estetski osviješten",
    traits: "ravnoteže, elegancije i emocionalne harmonije",
    connection: "uspostavlja sklad i njeguje tvoju nježnu stranu"
  },
  Škorpion: {
    emoji: "🦂",
    description: "intenzivan, misteriozan i duboko emotivan",
    traits: "strasti, dubine i magnetične privlačnosti",
    connection: "izaziva te da se otvoriš i osjetiš bez zadrške"
  },
  Strijelac: {
    emoji: "🏹",
    description: "optimističan, avanturistički i iskren",
    traits: "slobode, iskrenosti i filozofske širine",
    connection: "širi tvoje horizonte i potiče tvoju znatiželju"
  },
  Jarac: {
    emoji: "⛰️",
    description: "ambiciozan, stabilan i odgovoran",
    traits: "discipline, pouzdanosti i dugoročnog razmišljanja",
    connection: "gradi s tobom temelje za trajnu vezu"
  },
  Vodenjak: {
    emoji: "🔮",
    description: "inovativan, neovisan i vizionarski",
    traits: "mentalne slobode, originalnosti i humanosti",
    connection: "inspirira tvoju maštu i poštuje tvoju individualnost"
  },
  Ribe: {
    emoji: "🌊",
    description: "romantičan, intuitivan i duhovan",
    traits: "empatije, snova i nježnosti",
    connection: "povezuje se s tvojom dušom i razumije tvoje emocije"
  }
};
